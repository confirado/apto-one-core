<nav class="sidebar-section" apto-set-height=".slider-container" apto-set-height-subtract=".sidebar-info,#basket-button">
    <ul apto-accordion>
        <li ng-repeat="(key, value) in $ctrl.sections | orderBy:'group[0].position' | groupBy: 'group[0].id'" class="all-groups">
            <h4 class="accordion-toggle uppercase gutter-medium-left" ng-show="key != 'undefined'">
                {{ $ctrl.translate(value[0].group[0].name) }}
                <i class="fa fa-angle-down" aria-hidden="true"></i>
            </h4>

            <ul ng-class="{'accordion-content': key != 'undefined'}">
                <li ng-repeat="section in value track by $index" class="uppercase gutter-medium-left gutter-medium-right"
                    ng-class="{active: $ctrl.sectionIsComplete(section.id), 'active-section': $ctrl.firstNotCompleteSection === section.id}"
                    ng-if="!$ctrl.sectionIsDisabled(section.id)" ng-click="$ctrl.onSelectSection(section.id)">
                    <span class="number-of-section">{{$index + 1}}</span>{{$ctrl.translate(section.name)}}
                </li>
            </ul>
        </li>
    </ul>
</nav>